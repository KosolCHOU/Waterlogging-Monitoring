{% extends "base.html" %}
{% block title %}Profile â€“ CropXcel{% endblock %}

{% block head %}
<style>
  .profile-grid{display:grid;grid-template-columns:260px 1fr;gap:16px}
  @media (max-width:1024px){.profile-grid{grid-template-columns:1fr}}
  .card{background:var(--card);border-radius:var(--radius);box-shadow:var(--shadow-sm);border:1px solid rgba(17,24,39,.06)}
  .pad{padding:20px}
  .avatar{
    width:120px;height:120px;border-radius:50%;display:grid;place-items:center;
    font-weight:800;font-size:40px;letter-spacing:.5px;
    background:linear-gradient(180deg,#6ee7b7,#10b981); color:#0b1220;
    box-shadow:0 10px 24px rgba(16,185,129,.25);
    margin:4px auto 12px;
  }
  .muted{color:var(--text-muted)}
  .row{display:flex;justify-content:space-between;gap:16px;padding:10px 0;border-bottom:1px dashed rgba(17,24,39,.08)}
  .row:last-child{border-bottom:none}
  .k{color:#6b7280}
  .v{font-weight:600}
  .btn{
    display:inline-flex;align-items:center;gap:8px;border:1px solid rgba(17,24,39,.12);
    padding:10px 14px;border-radius:12px;background:#fff;text-decoration:none;color:#111827;
  }
  .btn:hover{background:#f9fafb}
</style>
{% endblock %}

{% block content %}
<div class="profile-grid">
  <!-- Left: summary card -->
  <div class="card pad">
    <div class="avatar">{{ initials }}</div>
    <div style="text-align:center">
      <div style="font-weight:800;font-size:18px">{{ user_obj.get_full_name|default:user_obj.username }}</div>
      <div class="muted">{{ user_obj.email }}</div>
    </div>
    <div style="height:12px"></div>
    <div class="row"><div class="k">Member since</div><div class="v">{{ member_since|date:"M d, Y" }}</div></div>
    <div class="row"><div class="k">Last login</div><div class="v">{{ last_login|date:"M d, Y H:i" }}</div></div>
    <div class="row"><div class="k">Username</div><div class="v">{{ user_obj.username }}</div></div>
    <div class="row"><div class="k">Is staff</div><div class="v">{{ user_obj.is_staff|yesno:"Yes,No" }}</div></div>
    <div class="row"><div class="k">Is active</div><div class="v">{{ user_obj.is_active|yesno:"Yes,No" }}</div></div>
    <div style="height:14px"></div>
    <form action="{% url 'logout' %}" method="post" style="display:inline">
    {% csrf_token %}
    <button class="btn" type="submit">ðŸšª Sign out</button>
    </form>
  </div>

  <!-- Right: details -->
  <div class="card pad">
    <h2 style="margin:0 0 8px;font-size:20px">Account details</h2>
    <p class="muted" style="margin-top:0">This page shows your current account information. Editing is coming next.</p>
    <div class="row"><div class="k">Full name</div><div class="v">{{ user_obj.get_full_name|default:"â€”" }}</div></div>
    <div class="row"><div class="k">Email</div><div class="v">{{ user_obj.email|default:"â€”" }}</div></div>
    <div class="row"><div class="k">Date joined</div><div class="v">{{ member_since|date:"M d, Y H:i" }}</div></div>
    <div class="row"><div class="k">Timezone (server)</div><div class="v">{{ now|date:"T" }}</div></div>
  </div>
</div>
{% endblock %}
